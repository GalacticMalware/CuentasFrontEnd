<div [style]="{ width: '100%',height: 'calc(92% - var(--mdc-secondary-navigation-tab-container-height))', position:'fixed', top:'var(--mat-toolbar-mobile-height)'}">
    <p-scrollPanel ScrollerToType="to-start" [style]="{ width: '100%', height: '100%' }">
        <div class="p-4 border-round w-full lg:w-12 p-fluid">
            <form [formGroup]="purchasesForm" (ngSubmit)="registerPurchase()" class="">
                <!-- <p-scrollPanel [style]="{ width: '100%', height: '100%' }"> -->
                <label for="concept" class="block text-900 font-medium mb-2">Concepto</label>
                <input type="text" pInputText formControlName="concept" class="w-full" placeholder="Tikect" class="w-full mb-3" />
                <div *ngFor="let error of errorMessages.concept">
                    <ng-container *ngIf="concept.hasError(error.type) && (concept.dirty || concept.touched)">
                        <small class="block p-error">* {{ error.message }}</small>
                    </ng-container>
                    <br />
                </div>

                <label for="name" class="block text-900 font-medium mb-2">Monto</label>
                <p-inputNumber formControlName="amount" inputId="currency-us" mode="currency" currency="USD" locale="en-US"></p-inputNumber>
                <!-- <input type="text" pInputText formControlName="Amount" class="w-full" placeholder="$50.00" class="w-full mb-3" /> -->
                <div *ngFor="let error of errorMessages.amount">
                    <ng-container *ngIf="
            amount.hasError(error.type) && (amount.dirty || amount.touched)
          ">
                        <small class="block p-error">* {{ error.message }}</small>
                    </ng-container>
                    <br />
                </div>

                <label for="Date" class="block text-900 font-medium mb-2">Fecha de compra</label
      >
      <p-calendar
        formControlName="date"
        class="w-full mb-3"
        placeholder="dd/mm/aaaa"
      />
      <div *ngFor="let error of errorMessages.date">
        <ng-container
          *ngIf="date.hasError(error.type) && (date.dirty || date.touched)"
        >
          <small class="block p-error"
            >* {{ error.message }}</small
          > </ng-container
        ><br />
      </div>

      <label for="name" class="block text-900 font-medium mb-2"
        >Tipo de pago</label
      >
      <p-dropdown
        [options]="typesPayments"
        optionLabel="name"
        placeholder="Pago"
        formControlName="typePayment"
      ></p-dropdown>
      <div *ngFor="let error of errorMessages.typePayment">
        <ng-container
          *ngIf="typePayment.hasError(error.type) && (typePayment.dirty || typePayment.touched)"
        >
          <small class="block p-error"
            >* {{ error.message }}</small
          > </ng-container
        ><br />
      </div>
      

      <label for="name" class="block text-900 font-medium mb-2"
        >Lugar de la compra</label
      >
      <p-dropdown
        [options]="placePurchase"
        optionLabel="name"
        placeholder="lugar"
        formControlName="placePurcase"
      ></p-dropdown>
      <div *ngFor="let error of errorMessages.placePurcase">
        <ng-container
          *ngIf="placePurcase.hasError(error.type) && (placePurcase.dirty || placePurcase.touched)"
        >
          <small class="block p-error"
            >* {{ error.message }}</small
          > </ng-container
        ><br />
      </div>

      <p-button
        label="Submit"
        icon="pi pi-camera"
        iconPos="right"
        (click)="takePhone()"
      />
      @if (imagenCapturada) {
      <div class="card flex justify-content-center">
        <p-image
          [src]="imagenCapturada"
          alt="Image"
          width="250"
          class="p-element mt-2"
        />
      </div>
      }
      <!-- </p-scrollPanel> -->

      <br /><br /><br /><br />
      <p-button
        label="Primary"
        icon="pi pi-cloud-upload"
        [rounded]="true"
        type="submit"
        [disabled]="purchasesForm.invalid"
      />
    </form>
  </div>
</p-scrollPanel>
</div>

<p-toast />